<ion-view cache-view="false" view-title="职位推荐">
    <ion-content>
        <div class="rec-banner"
             ng-if="corp.custom.redpack.ref">
            <img src="images/rec-banner.jpg" style="width: 100%;" alt="">
        </div>
        <div class="resume-rec ">
            <form name="rec.rFm" novalidate ng-submit="vm.rec()">
                <div class="list ">
                    <div class="item item-divider">
                        <i class="icon ion-information-circled theme-color"></i> 被推荐人信息
                    </div>
                    <label class="item item-input" ng-class=" {error:vm.submited&&rec.rFm.name.$error.required}">
                        <span class="input-label"><span
                                class="icon ion-person gray-reset new-icon-position"></span> 姓名<sup class="red">*</sup>：</span>
                        <input type="text" name="name" required ng-model="vm.mod.name">
                    </label>
                    <label class="item ">
                        <span class="mr10"><span
                                class="icon ion-male gray-reset "></span> 性别：</span>
                        <label class="gender-radio"><input type="radio" value="MALE" ng-model="vm.mod.gender"
                                                           name="gender"> 男</label>
                        <label><input ng-model="vm.mod.gender" value="FEMALE" type="radio"
                                      name="gender">
                            女</label>
                    </label>
                    <label class="item item-input"
                           ng-class="{error:vm.submited&&(rec.rFm.mobile.$error.required||rec.rFm.mobile.$error.maxlength)}">
                        <span class="input-label"><span
                                class="icon ion-ios-telephone gray-reset new-icon-position"></span> 电话<sup
                                class="red">*</sup>：</span>
                        <input type="text" name="mobile" required="" ng-model="vm.mod.mobile" maxlength="13">
                    </label>

                    <label class="item item-input"
                           ng-class="{error:rec.rFm.email.$error.email}">
                        <span class="input-label"><span
                                class="icon ion-email gray-reset new-icon-position"></span> 邮箱：</span>
                        <input type="email" name="email" ng-model="vm.mod.email">
                    </label>
                    <label class="item item-input"
                           ng-class="{error:vm.submited&&(rec.rFm.work_exp.$error.required||rec.rFm.work_exp.$error.number)}">
                        <span class="input-label"><span
                                class="icon ion-person-stalker gray-reset new-icon-position"></span> 工作经验<sup
                                class="red">*</sup>：</span>
                        <input placeholder="请输入工作年限" type="number" name="work_exp" required ng-model="vm.mod.work_exp">
                    </label>

                    <label class="item item-input" ng-class="{error:vm.submited&&rec.rFm.company.$error.required}">
                        <span class="input-label"><span class="icon ion-printer gray-reset new-icon-position"></span> 当前公司<sup
                                class="red">*</sup>：</span>
                        <input type="text" name="company" required ng-model="vm.mod.company">
                    </label>
                    <label class="item item-input" ng-class="{error:vm.submited&&rec.rFm.position.$error.required}">
                        <span class="input-label"><span class="icon ion-briefcase gray-reset new-icon-position"></span> 当前职位<sup
                                class="red">*</sup>：</span>
                        <input type="text" name="position" required ng-model="vm.mod.position">
                    </label>
                    <label class="item   " ng-class="{error:vm.submited&&vm.fileEmpty}">
                        <ul class="file-list" ng-if="vm.mod.file.length">
                            <li ng-repeat="item in vm.mod.file">
                                <i class="icon ion-trash-a pull-right big" on-tap="vm.deleteFile($index)"></i>
                                {{$index+1}}.{{item.type}}
                            </li>
                        </ul>
                        <div ng-show="vm.mod.file.length<4" >
                        <span   class="btn btn-upload   button-theme">上传附件
                            <input type="file" multiple
                                   reader-error="vm.readerError(msg)"
                                   reader-success="vm.readerSuccess(fileData)"
                                   file-type="vm.fileType"
                                   file-info="vm.fileInfo"
                                   fileread="vm.fileData"
                                   class="file"/>
                        </span>
                        </div>
                        <div class="item-text-wrap mt5 ml10 gray small">
                            最多4个，请上传简历、照片（如有）<br>IOS仅支持图片,安卓系统仅支持PDF, DOC, JPG等
                        </div>
                    </label>

                </div>
                <div class="list edu-list">
                    <div class="item item-divider">
                        <i class="icon ion-information-circled theme-color"></i> 推荐人信息
                    </div>
                    <label class="item item-input" ng-class="{error:vm.submited&&rec.rFm.ref_name.$error.required}">
                        <span class="input-label"><span
                                class="icon ion-person gray-reset new-icon-position"></span> 姓名<sup
                                class="red">*</sup>：</span>
                        <input type="text" name="ref_name" required ng-model="vm.mod.ref_name">
                    </label>
                    <label class="item item-input">
                        <span class="input-label"><span
                                class="icon ion-ios-telephone gray-reset new-icon-position"></span> 电话：</span>
                        <input type="number" name="ref_mobile" ng-model="vm.mod.ref_mobile">
                    </label>
                    <label class="item item-input" ng-class="{error:vm.submited&&rec.rFm.ref_email.$invalid}">
                        <span class="input-label">
                            <span class="icon ion-email gray-reset new-icon-position"></span> <span ng-if="!corp.custom.delphi_config">邮箱：</span>
                            <span ng-if="corp.custom.delphi_config">公司邮箱<sup
                                    class="red">*</sup>：</span>
                        </span>
                        <input type="email" name="ref_email" ng-required="corp.custom.delphi_config" ng-model="vm.mod.ref_email" placeholder="为确保奖励发放，请填写有效邮箱">
                    </label>
                    <label class="item item-input" ng-class="{error:vm.submited&&rec.rFm.ref_empno.$error.required}">
                        <span class="input-label">
                            <span class="icon ion-email gray-reset new-icon-position"></span> 工号<span ng-if="corp.custom.delphi_config"><sup
                                class="red">*</sup></span>：
                        </span>
                        <input type="text" name="ref_empno" ng-required="corp.custom.delphi_config" ng-model="vm.mod.ref_empno" placeholder="企业职工务必填写">
                    </label>
                    <div class="item" ng-class="{error:vm.submited&&!vm.agree}">
                        <label class="word-no-warp"><input type="checkbox" ng-model="vm.agree"/>
                            本人承诺所有提供的个人资料真实有效，并同意以上个人资料将会用于{{corp.full_name}}人才吸引和招聘用途。</label>
                    </div>
                </div>


                <div class="padding">
                    <button class="button button-block button-theme ">提交</button>
                </div>

            </form>
        </div>
    </ion-content>
</ion-view>
